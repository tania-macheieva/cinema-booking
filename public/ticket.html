<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>KinoBook - Квиток</title>
    <style>
        body {
            font-family: "Segoe UI", "Open Sans", "Helvetica Neue", sans-serif;
            background-color: #f7f6f8;
            color: #333;
            text-align: center;
            padding: 20px;
        }

        .ticket {
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            padding: 20px;
            margin: 20px auto;
            width: 80%;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .qr-code {
            margin-top: 20px;
            justify-content: right;
        }
        .ticket, .qr-code {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.5s forwards;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .qr-code img {
            display: block;
            margin: 20px auto; 
        }
    </style>
</head>
<body>
    <h1>Ваш квиток на фільм</h1>

    <div class="ticket">
        <h2 id="film-title">Назва фільму</h2>
        <p><strong>Дата:</strong> <span id="film-date"></span></p>
        <p><strong>Час:</strong> <span id="film-session"></span></p>
        <p><strong>Місця:</strong> <span id="selected-seats"></span></p>
        <p><strong>Ім'я:</strong> <span id="full_name"></span></p>
        <p><strong>Телефон:</strong> <span id="phone"></span></p>
        <p><strong>Електронна пошта:</strong> <span id="email"></span></p>
    </div>

    <div class="qr-code" id="qr-code"></div>
        <!-- QR Code will be displayed here -->
    </div>

        <script>
            // Отримуємо параметри з URL
            const params = new URLSearchParams(window.location.search);
            const title = params.get('title') || null;
            const date = params.get('date') || null;
            const session = params.get('session');
            const seats = params.get('seats') || 'Not selected';
            const full_name = params.get('full_name') || '   ';
            const phone = params.get('phone') || '';
            const email = params.get('email') || '';
        
            // Відображення даних на сторінці
            document.getElementById('film-title').innerText = title;
            document.getElementById('film-date').innerText = date;
            document.getElementById('film-session').innerText = session;
            document.getElementById('selected-seats').innerText = seats;
            document.getElementById('full_name').innerText = full_name;
            document.getElementById('phone').innerText = phone;
            document.getElementById('email').innerText = email;
            console.log('Title:', title);
             console.log('Date:', date);
            console.log('Session:', session); 
            console.log('Seats:', seats); 
            // Функція для генерування QR-коду
            function generateQRCode(text) {
                const qrCode = document.createElement('img');
                qrCode.src = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(text)}&size=200x200`;
                document.getElementById('qr-code').appendChild(qrCode);
            } 

            // Генерація QR-коду для даних квитка
            const ticketData = `Фільм: ${title}\nДата: ${date}\nЧас: ${session}\nМісця: ${seats}\nІм'я: ${full_name}\nТелефон: ${phone}\nEmail: ${email}`;
            generateQRCode(ticketData);
            
        </script>
</body>
</html>